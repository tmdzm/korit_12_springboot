객관식 답
```
1 - 데이터의 중복을 최소화하기 위해 비정규화(Denormalization) 원칙을 따른다.
2 - DML (Data Manipulation Language) 
3 - CREATE
4 - GRANT, REVOKE 
5 - SELECT -> FROM -> WHERE -> GROUP BY -> HAVING -> ORDER BY 
6 - SELECT COUNT(DISTINCT country) FROM users; 
7 - SELECT ROUND(AVG(price), 2) FROM products; 
8 - SELECT * FROM users WHERE created_at LIKE '2011-01%'; 
9 - WHERE price BETWEEN 10 AND 30 
10 - INNER JOIN 
11 -  LEFT JOIN 
12 - 모두 사용할 수 없다.
13 - WHERE 절보다 먼저 실행되어 테이블 데이터를 그룹으로 묶는다. 
14 - UNION 
15 - Scalar Subquery 
16 - Inline View 
17 - ALTER TABLE products ADD COLUMN category VARCHAR(50); 
18 - UPDATE products SET price = 20 WHERE id = 1; 
19 - DELETE FROM users WHERE city = 'Seoul'; 
20 - COMMIT
21 - SELECT COUNT(*) FROM users WHERE country = 'Korea' AND is_marketing_agree = 1; 
22 - SELECT * FROM orders WHERE order_date BETWEEN '2015-12-01' AND '2015-12-31'
23 - SELECT COUNT(*) FROM users WHERE country IN ('UK', 'USA'); 
24 - SELECT name FROM products WHERE price = (SELECT MAX(price) FROM products); 
25 - SELECT city, COUNT(id) FROM users GROUP BY city;
26 - LEFT JOIN과 WHERE 절에 od.order_id IS NULL 
27 - CROSS JOIN
28 - (SELECT COUNT(*) FROM orders WHERE order_date LIKE '2016-01%') UNION (SELECT COUNT(*) FROM orders WHERE order_date LIKE '2015-08%');
29 - HAVING
30 - 특정 행의 데이터를 삭제하는 것
```

답

```sql
part 1.
1 - CREATE DATABASE sql_finals;
2 - USE sql_finals;
3 - CREATE TABLE users (
	id INT(11) NOT NULL AUTO_INCREMENT,
	created_at VARCHAR(100),
	username VARCHAR(100) NOT NULL,
	phone VARCHAR(100), 
	country VARCHAR(50),
	PRIMARY KEY (id)
	);
4 - ALTER TABLE users ADD COLUMN is_marketing_agree INT(1);
5 - ALTER TABLE users RENAME COLUMN phone TO user_phone;
6 - ALTER TABLE users DROP COLUMN created_at; 
7 - CREATE TABLE `products` (
	`id` INT(11) NOT NULL AUTO_INCREMENT,
	`name` VARCHAR(255) NOT NULL,
	`price` DECIMAL(10, 2) NOT NULL,
	`discount_price` DECIMAL(10, 2) NOT NULL,
	PRIMARY KEY (id)
	);
8 - ALTER TABLE products MODIFY COLUMN name VARCHAR(500);
9 - CREATE TABLE `staff` (
	`id` NT(11) NOT NULL AUTO_INCREMENT,
	`user_id` INT(11) NOT NULL,
	`last_name` VARCHAR(50) NOT NULL,
	`first_name` VARCHAR(50) NOT NULL,
	`birth_date` VARCHAR(50),
	PRIMARY KEY (id)
	);
10 - CREATE TABLE `orders` (
	`id` INT(11) NOT NULL AUTO_INCREMENT,
	`user_id` INT(11),
	`staff_id` INT(11),
	`order_date`  DATE,
	PRIMARY KEY (id),
	FOREIGN KEY(user_id) REFERENCES users(id),
	FOREIGN KEY(staff_id) REFERENCES staff(id)
	);
11 - CREATE TABLE `orderdetails` (
	`id` INT(11) NOT NULL AUTO_INCREMENT,
	`order_id` INT(11),
	`product_id` INT(11),
	`quantity` INT(11) NOT NULL,
	PRIMARY KEY (id),
	FOREIGN KEY(order_id) REFERENCES orders(id),
	FOREIGN KEY(product_id) REFERENCES products(id)
	);
12 - ALTER TABLE users DROP COLUMN is_marketing_agree;
13 - ALTER TABLE orderdetails RENAME COLUMN quantity TO amount;
14 - DROP TABLE orderdetails;
15 - DROP DATABASE sql_finals;

part2

1 - INSERT INTO users (username,phone,city,country) VALUES 
	('joejoe@joecompany.com', '010-1234-5678', 'Seoul', 'Korea'),
	('phk4938@never.com', '010-9876-5432', 'Buenos Aires', 'Argentina'); 

2 - INSERT INTO users (username,phone,city,country) VALUES 
	('inr01@never.com', '010-1111-2222', 'New York', 'USA'),
	('fuxp76@never.com', '010-3333-4444', 'Seoul', 'Korea'); 

3 - INSERT INTO products (name,price,discount_price) VALUES
	('Terrarossa Coffee Back', 18.00, 15.00);

4 - INSERT INTO products (name,price,discount_price) VALUES
	('Mini Cheese Ball', 19.00, 19.00),
	('Stabucks Drip Coffee',22.00, 22.00);

5 - INSERT INTO staff (user_id,last_name,first_name,birth_date) VALUES
	(2, 'Carter', 'Joe', '1990-10-20'),
	(0, 'Jang', 'Ken', '1991-02-19');

6 - INSERT INTO orders (user_id,staff_id,order_date) VALUES
	(2, 1, '2025-09-18');

7 - INSERT INTO orderdetails (order_id,product_id,quantity) VALUES
	(1,1,2),
	(1,2,3);

8 - UPDATE users SET phone = '010-5555-6666' WHEN username = 'inr01@never.com';
9 - UPDATE products SET price = 20.00 WHEN name =  'Mini Cheese Ball';
10 - UPDATE staff SET first_name = 'Minjun' WHERE user_id =  10;
11 - 	SET foreign_key_checks = 0; 
	DELETE FROM users WHERE username = 'phk4938@never.com';
	SET foreign_key_checks = 1;
12 - DELETE FROM products WHERE id =3;
13 - DELETE FROM orderdetails WHERE order_id = 1;
14 - 	SET foreign_key_checks = 0;
	DELETE FROM users;
	SET foreign_key_checks = 1;
15 - DELETE FROM orders WHERE order_date = '2025-09-18';

part 3

1 - SELECT id, username, phone FROM users;
2 - SELECT count(*) FROM orders WHERE order_date like '2015%';
3 - SELECT name FROM products WHERE price = (SELECT MAX(price) FROM products);
4 - SELECT id, username FROM users WHERE country = 'Korea';
5 - SELECT last_name,first_name FROM staff WHERE birth_date < '1960-01-01';
6 - SELECT id, order_date FROM orders WHERE user_id = 20;
7 - SELECT SUM(quantity) FROM orderdetails WHERE product_id = 17;
8 - SELECT round(AVG(price),2) FROM products;
9 - SELECT country  FROM users GROUP BY country HAVING count(*) >= 5;
10 - SELECT staff_id, count(*) as 주문건수 FROM orders GROUP BY staff_id ORDER BY 주문건수 desc;

11 -	SELECT u.username, count(distinct o.id) as 주문건수 
	FROM users u, orders o 
	WHERE u.id = o.user_id
	GROUP BY u.id
	HAVING 주문건수 >= 2;

12 -   SELECT  s.id , u.username, s.last_name , s.first_name
	FROM users u, staff f 
	WHERE u.id = s.user_id;

13 - 	SELECT ods.order_id, sum(ods.quantity)
	FROM orders o , orderdetails ods
	WHERE o.id = ods.order_id
	group by ods.order_id
	HAVING sum(ods.quantity) > 100;
	
	
14 - 	SELECT count(*)
	FROM orders o, users u
	WHERE o.user_id = u.id and u.country = 'USA';

15 - 	SELECT count(*)
	FROM orders
	WHERE substr(order_date,1,7) = '2015-12' and staff_id = 3;

16 - 	SELECT name, price
	FROM products
	WHERE price > (
		SELECT AVG(price)
		FROM products
	);

17 - 	SELECT count(*)
	FROM users
	WHERE city = 'Seoul';

18 - 	SELECT ods.order_id , p.price*ods.quantity AS 총주문금액
	FROM orders o, orderdetails ods, products p
	WHERE o.id = ods.order_id and p.id = ods.product_id
	group by o.id
	HAVING 총주문금액 > 2000;

19 - 	SELECT name, price
	FROM products
	WHERE name like '%Coffe%';

20 - 	(SELECT last_name , first_name
	FROM staff
	WHERE birth_date < '1960-01-01')
	UNION
	(SELECT last_name , first_name
	FROM staff
	WHERE birth_date > '1989-12-31');
```